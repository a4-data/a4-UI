<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=10, user-scalable=yes">
    <title>ext-grid</title>
    <link rel="icon" type="image/x-icon" href="public/resources/favicon.ico">
    <script src="public/ext.js"></script>
    <link href="public/ext.css" rel='stylesheet'/>

<script>

class ExtGrid extends HTMLElement {
    get config() {return this.getAttribute('config')}; 
    set config(val) {if (val) {this.setAttribute('config', val)} else {this.removeAttribute('config')}}
    static get observedAttributes() {return ['config']};

    connectedCallback() {
        var o = JSON.parse(this.config)
        o.xtype = 'grid'
        o.renderTo = this
        this.ext = Ext.create(o)
    }
}

Ext.onReady(function() {
    window.customElements.define('ext-grid', ExtGrid)
})
</script>

</head>
<body>
    <ext-grid
        config='
        {
            "title":"Grid with a single config",
            "height":"300px",
            "columns": [
                {"text": "Name", "width": "250", "dataIndex": "name"},
                {"text": "Email Address", "flex": "1", "dataIndex": "email"},
                {"text": "Phone Number", "width": "250", "dataIndex": "phone"}
            ],
            "data": [
                {"name": "Lisa", "email": "lisa@simpsons.com", "phone": "555-111-1224"},
                {"name": "Bart", "email": "bart@simpsons.com", "phone": "555-222-1234"},
                {"name": "Homer", "email": "homer@simpsons.com", "phone": "555-222-1244"},
                {"name": "Marge", "email": "marge@simpsons.com", "phone": "555-222-1254"}
            ]
        }'>
    </ext-grid>
</body>
</html>
